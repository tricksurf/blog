<!DOCTYPE html><html lang="en-us"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>On the subject of TraceRays... - Tricksurf Blog</title><meta name="description" content="TraceRays are a tool in Counter-Strike: Source (and other Source Engine games) where you are able to send out a ray, like ray tracing, from any point and any direction you desire. This ray then gives back information that can be used to retrieve where&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://tricksurf.github.io/blog/on-the-subject-of-tracerays.html"><link rel="alternate" type="application/atom+xml" href="https://tricksurf.github.io/blog/feed.xml"><link rel="alternate" type="application/json" href="https://tricksurf.github.io/blog/feed.json"><meta property="og:title" content="On the subject of TraceRays..."><meta property="og:site_name" content="Tricksurf Blog"><meta property="og:description" content="TraceRays are a tool in Counter-Strike: Source (and other Source Engine games) where you are able to send out a ray, like ray tracing, from any point and any direction you desire. This ray then gives back information that can be used to retrieve where&hellip;"><meta property="og:url" content="https://tricksurf.github.io/blog/on-the-subject-of-tracerays.html"><meta property="og:type" content="article"><link rel="preload" href="https://tricksurf.github.io/blog/assets/dynamic/fonts/jetbrainsmono/jetbrainsmono.woff2" as="font" type="font/woff2" crossorigin><link rel="stylesheet" href="https://tricksurf.github.io/blog/assets/css/style.css?v=c41d75a0c1b84ac06a7da70d0722cf9d"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://tricksurf.github.io/blog/on-the-subject-of-tracerays.html"},"headline":"On the subject of TraceRays...","datePublished":"2023-01-23T22:26","dateModified":"2023-01-23T22:28","description":"TraceRays are a tool in Counter-Strike: Source (and other Source Engine games) where you are able to send out a ray, like ray tracing, from any point and any direction you desire. This ray then gives back information that can be used to retrieve where&hellip;","author":{"@type":"Person","name":"Nik McPhail","url":"https://tricksurf.github.io/blog/authors/nik-mcphail/"},"publisher":{"@type":"Organization","name":"Nik McPhail"}}</script></head><body><div class="site-container"><header class="top" id="js-header"><a class="logo" href="https://tricksurf.github.io/blog/">Tricksurf Blog</a></header><main><article class="post"><div class="hero"><header class="hero__content"><div class="wrapper"><div class="post__meta"><time datetime="2023-01-23T22:26">January 23, 2023</time></div><h1>On the subject of TraceRays...</h1><div class="post__meta post__meta--author"><a href="https://tricksurf.github.io/blog/authors/nik-mcphail/" class="feed__author">Nik McPhail</a></div></div></header></div><div class="wrapper post__entry"><p>TraceRays are a tool in Counter-Strike: Source (and other Source Engine games) where you are able to send out a ray, like ray tracing, from any point and any direction you desire. This ray then gives back information that can be used to retrieve where it hits, if it hits an entity, and information from said entity. This blog aims to explain how we utilize TraceRay in ways the game doesn't intend.</p><h2 class="align-left"><span style="text-decoration: underline;"><span style="color: #e03e2d; text-decoration: underline;">Finding the function</span></span></h2><p>If we look through the leaked 2018 sdk, we can find TraceRay is a virtual function of the class IEngineTrace:</p><blockquote><div><code>abstract_class IEngineTrace</code></div><div><code>{</code></div><div><code>public:</code></div><div><code>    virtual int     GetPointContents( const Vector &amp;vecAbsPosition, IHandleEntity** ppEntity = NULL ) = 0;</code></div><div><code>   </code></div><div><code>    virtual int     GetPointContents_Collideable( ICollideable *pCollide, const Vector &amp;vecAbsPosition ) = 0;</code></div><div> </div><div><code>    virtual void    ClipRayToEntity( const Ray_t &amp;ray, unsigned int fMask, IHandleEntity *pEnt, trace_t *pTrace ) = 0;</code></div><div> </div><div><code>    virtual void    ClipRayToCollideable( const Ray_t &amp;ray, unsigned int fMask, ICollideable *pCollide, trace_t *pTrace ) = 0;</code></div><br><div><code>    // A version that simply accepts a ray (can work as a traceline or tracehull)</code></div><div><code>    <span style="color: #2dc26b;"><span style="color: #236fa1;">virtual void</span>    <span style="color: #fbeeb8;">TraceRay</span><span style="color: #b96ad9;">(</span> <span style="color: #236fa1;">const</span> Ray_t <span style="color: #ecf0f1;">&amp;<span style="color: #c2e0f4;">ray</span>,</span> <span style="color: #236fa1;">unsigned int</span> <span style="color: #c2e0f4;">fMask</span><span style="color: #ecf0f1;">,</span> ITraceFilter <span style="color: #ecf0f1;">*</span><span style="color: #c2e0f4;">pTraceFilter</span><span style="color: #ecf0f1;">,</span> trace_t <span style="color: #ecf0f1;">*</span><span style="color: #c2e0f4;">pTrace</span> <span style="color: #b96ad9;">)</span> <span style="color: #ecf0f1;">=</span> <span style="color: #bfedd2;">0</span><span style="color: #ecf0f1;">;</span></span></code></div></blockquote><p> </p><p> </p></div><footer class="wrapper post__footer"><p class="post__last-updated">This article was updated on January 23, 2023</p><div class="post__share"></div><div class="post__bio bio"><div class="bio__info"><h3 class="bio__name"><a href="https://tricksurf.github.io/blog/authors/nik-mcphail/" rel="author">Nik McPhail</a></h3></div></div></footer></article></main><footer class="footer"><div class="footer__copyright"><p>Powered by Publii</p></div><button onclick="backToTopFunction()" id="backToTop" class="footer__bttop" aria-label="Back to top" title="Back to top"><svg><use xlink:href="https://tricksurf.github.io/blog/assets/svg/svg-map.svg#toparrow"/></svg></button></footer></div><script defer="defer" src="https://tricksurf.github.io/blog/assets/js/scripts.min.js?v=f47c11534595205f20935f0db2a62a85"></script><script>window.publiiThemeMenuConfig={mobileMenuMode:'sidebar',animationSpeed:300,submenuWidth: 'auto',doubleClickTime:500,mobileMenuExpandableSubmenus:true,relatedContainerForOverlayMenuSelector:'.top'};</script><script>var images = document.querySelectorAll('img[loading]');

        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script></body></html>